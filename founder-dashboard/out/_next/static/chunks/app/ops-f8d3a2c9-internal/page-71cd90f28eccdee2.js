(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{6481:(e,t,a)=>{Promise.resolve().then(a.bind(a,8103))},8103:(e,t,a)=>{"use strict";let s;a.r(t),a.d(t,{default:()=>U});var r=a(5155),n=a(2115),o=a(5695),i=a(3915),l=a(6203),d=a(5317);try{s=0===(0,i.Dk)().length?(0,i.Wp)({apiKey:"AIzaSyBmFWrqHXfhJZS4t-vLj6CxjXQKGJKTJc4",authDomain:"goodwatchapp.firebaseapp.com",projectId:"goodwatchapp",storageBucket:"goodwatchapp.firebasestorage.app",messagingSenderId:"1064227633048",appId:"1:1064227633048:web:c3f8e5a2b9d4f6e7a8b9c0"}):(0,i.Dk)()[0]}catch(e){console.error("Firebase initialization error:",e),s=(0,i.Dk)()[0]}let c=(0,l.xI)(s),u=(0,d.aU)(s),x=new l.HF;function m(e){let{onPasswordSuccess:t,showPasswordLogin:a,setShowPasswordLogin:s}=e,[o,i]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[m,h]=(0,n.useState)(!1),[p,g]=(0,n.useState)(""),[f,b]=(0,n.useState)(!1),[y,v]=(0,n.useState)(!1),j=async()=>{try{let e=await (0,l.df)(c,x);"parikshit0120@gmail.com"!==e.user.email&&(await c.signOut(),u("Unauthorized email address"))}catch(e){u(e instanceof Error?e.message:"Failed to sign in with Google")}},w=async e=>{e.preventDefault(),"goodwatch2026"===o?t():u("Invalid password")},N=async e=>{e.preventDefault(),u("Contact admin to reset password")};return f?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#0a0a0f] px-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-[#1a1a1f] p-8 rounded-lg border border-[#2a2a2f]",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-[#e8e6e3] mb-6",children:"Reset Password"}),y?(0,r.jsx)("div",{className:"bg-green-900/20 border border-green-700 p-4 rounded mb-4",children:(0,r.jsxs)("p",{className:"text-green-400",children:["Reset link sent to ",p,". Check your inbox."]})}):(0,r.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-[#a8a6a3] mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",value:p,onChange:e=>g(e.target.value),className:"w-full px-4 py-2 bg-[#0a0a0f] border border-[#2a2a2f] rounded text-[#e8e6e3] focus:outline-none focus:border-[#d4a843]",placeholder:"hello@goodwatch.movie",required:!0})]}),d&&(0,r.jsx)("div",{className:"bg-red-900/20 border border-red-700 p-3 rounded text-sm text-red-400",children:d}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-[#d4a843] text-[#0a0a0f] py-2 px-4 rounded font-medium hover:bg-[#c49833] transition",children:"Send Reset Link"})]}),(0,r.jsx)("button",{onClick:()=>{b(!1),v(!1),u("")},className:"w-full mt-4 text-[#a8a6a3] text-sm hover:text-[#e8e6e3] transition",children:"← Back to login"})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#0a0a0f] px-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-[#1a1a1f] p-8 rounded-lg border border-[#2a2a2f]",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-[#e8e6e3] mb-2",children:"GoodWatch Ops"}),(0,r.jsx)("p",{className:"text-[#a8a6a3] mb-8",children:"Private founder dashboard"}),a?(0,r.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-[#a8a6a3] mb-2",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:m?"text":"password",value:o,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 bg-[#0a0a0f] border border-[#2a2a2f] rounded text-[#e8e6e3] focus:outline-none focus:border-[#d4a843]",placeholder:"Enter dashboard password",required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>h(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#a8a6a3] hover:text-[#e8e6e3]",children:m?"Hide":"Show"})]})]}),d&&(0,r.jsx)("div",{className:"bg-red-900/20 border border-red-700 p-3 rounded text-sm text-red-400",children:d}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-[#d4a843] text-[#0a0a0f] py-2 px-4 rounded font-medium hover:bg-[#c49833] transition",children:"Login"}),(0,r.jsx)("button",{type:"button",onClick:()=>b(!0),className:"w-full text-[#a8a6a3] text-sm hover:text-[#e8e6e3] transition",children:"Forgot password?"}),(0,r.jsx)("button",{type:"button",onClick:()=>s(!1),className:"w-full text-[#a8a6a3] text-sm hover:text-[#e8e6e3] transition",children:"← Back to Google login"})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("button",{onClick:j,className:"w-full bg-white text-gray-900 py-3 px-4 rounded font-medium flex items-center justify-center gap-3 hover:bg-gray-100 transition",children:[(0,r.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,r.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,r.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,r.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-[#2a2a2f]"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"px-2 bg-[#1a1a1f] text-[#a8a6a3]",children:"or"})})]}),(0,r.jsx)("button",{onClick:()=>s(!0),className:"w-full bg-[#2a2a2f] text-[#e8e6e3] py-3 px-4 rounded font-medium hover:bg-[#3a3a3f] transition",children:"Use Password"})]})]})})}var h=a(623),p=a(9509);let g=p.env.NEXT_PUBLIC_SUPABASE_URL||"https://jdjqrlkynwfhbtyuddjk.supabase.co",f=p.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpkanFybGt5bndmaGJ0eXVkZGprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0NzUwMTEsImV4cCI6MjA4MDA1MTAxMX0.KDRMLCewVMp3lwphkUvtoWOkg6kyAk8iSbVkRKiHYSk",b=(0,h.UU)(g,f);async function y(){try{let e=new Date().toISOString().split("T")[0],t=new Date(Date.now()-6048e5).toISOString(),{data:a,error:s}=await b.from("app_events").select("*").gte("created_at",t);if(s)return console.error("Error fetching events:",s),{dau:0,newUsers:0,retention7d:0,sharesPerUser:0,revenue7d:0};let r=(null==a?void 0:a.filter(t=>t.created_at.startsWith(e)))||[],n=new Set(r.map(e=>e.user_id)).size,{data:o}=await b.from("user_profiles").select("created_at").gte("created_at",e+"T00:00:00").lte("created_at",e+"T23:59:59"),i=(null==o?void 0:o.length)||0,l=a||[],d=new Set(l.map(e=>e.user_id)),c=d.size>0?n/d.size*100:0,{data:u}=await b.from("user_interactions").select("*").eq("interaction_type","share").gte("created_at",t),x=d.size>0?((null==u?void 0:u.length)||0)/d.size:0;return{dau:n,newUsers:i,retention7d:Math.round(10*c)/10,sharesPerUser:Math.round(100*x)/100,revenue7d:0}}catch(e){return console.error("Failed to fetch metrics:",e),{dau:0,newUsers:0,retention7d:0,sharesPerUser:0,revenue7d:0}}}async function v(){try{let e=await y(),t=e.retention7d-30,a=e.newUsers-25,s=e.revenue7d-100;if(t<-10)return{type:"Retention",metric:"retention7d",actual:e.retention7d,target:30,gap:t,detectedAt:new Date};if(a<-15)return{type:"Growth",metric:"newUsers",actual:e.newUsers,target:25,gap:a,detectedAt:new Date};if(s<-50)return{type:"Monetization",metric:"revenue7d",actual:e.revenue7d,target:100,gap:s,detectedAt:new Date};return{type:"Product Velocity",metric:"dau",actual:e.dau,target:50,gap:e.dau-50,detectedAt:new Date}}catch(e){return console.error("Failed to detect constraint:",e),{type:"Product Velocity",metric:"dau",actual:0,target:50,gap:-50,detectedAt:new Date}}}function j(){let[e,t]=(0,n.useState)({dau:0,newUsers:0,retention7d:0,sharesPerUser:0,revenue7d:0}),[a]=(0,n.useState)({dau:50,newUsers:25,retention7d:30,sharesPerUser:.1,revenue7d:100}),[s,o]=(0,n.useState)(!0);(0,n.useEffect)(()=>{i();let e=setInterval(i,3e5);return()=>clearInterval(e)},[]);let i=async()=>{try{let e=await y();t(e)}catch(e){console.error("Failed to fetch metrics:",e)}finally{o(!1)}},l=e=>{let{label:t,value:a,target:n,format:o=e=>e.toFixed(0)}=e,i=0===n?0:(a-n)/n*100;return(0,r.jsxs)("div",{className:"bg-[#1a1a1f] border border-[#2a2a2f] rounded-lg p-4",children:[(0,r.jsx)("div",{className:"text-[#a8a6a3] text-sm mb-1",children:t}),(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-[#e8e6e3]",children:s?"—":o(a)}),(0,r.jsx)("div",{className:"text-sm font-medium ".concat(i>=0?"text-green-400":i>=-10?"text-yellow-400":"text-red-400"),children:!s&&(e=>{let t=e>=0?"+":"";return"".concat(t).concat(e.toFixed(1),"%")})(i)})]}),(0,r.jsxs)("div",{className:"text-[#6a6a6f] text-xs mt-1",children:["Target: ",o(n)]})]})};return(0,r.jsx)("div",{className:"bg-[#0a0a0f] border-b border-[#2a2a2f]",children:(0,r.jsx)("div",{className:"max-w-[1600px] mx-auto px-6 py-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,r.jsx)(l,{label:"DAU",value:e.dau,target:a.dau}),(0,r.jsx)(l,{label:"New Users Today",value:e.newUsers,target:a.newUsers}),(0,r.jsx)(l,{label:"7D Retention",value:e.retention7d,target:a.retention7d,format:e=>"".concat(e.toFixed(1),"%")}),(0,r.jsx)(l,{label:"Shares per User",value:e.sharesPerUser,target:a.sharesPerUser,format:e=>e.toFixed(2)}),(0,r.jsx)(l,{label:"Revenue (7D)",value:e.revenue7d,target:a.revenue7d,format:e=>"$".concat(e.toFixed(0))})]})})})}function w(){var e;let[t,a]=(0,n.useState)(null),[s,o]=(0,n.useState)(!0);(0,n.useEffect)(()=>{i();let e=setInterval(i,6e5);return()=>clearInterval(e)},[]);let i=async()=>{try{let e=await v();a(e)}catch(e){console.error("Failed to fetch constraint:",e)}finally{o(!1)}};return s?(0,r.jsx)("div",{className:"bg-[#2a2a2f] border-b border-[#3a3a3f]",children:(0,r.jsx)("div",{className:"max-w-[1600px] mx-auto px-6 py-4",children:(0,r.jsx)("div",{className:"text-[#a8a6a3] text-center",children:"Analyzing constraints..."})})}):t?(0,r.jsx)("div",{className:"border-b ".concat((e=>{switch(e){case"Growth":return"bg-blue-900/30 border-blue-700";case"Retention":return"bg-red-900/30 border-red-700";case"Monetization":return"bg-green-900/30 border-green-700";case"Product Velocity":return"bg-yellow-900/30 border-yellow-700";default:return"bg-gray-900/30 border-gray-700"}})(t.type)),children:(0,r.jsx)("div",{className:"max-w-[1600px] mx-auto px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"text-white font-bold text-lg",children:["CURRENT CONSTRAINT: ",t.type.toUpperCase()]}),(0,r.jsx)("div",{className:"h-6 w-px bg-white/20"}),(0,r.jsxs)("div",{className:"text-white/80 text-sm",children:[t.metric,": Target ",t.target," | Actual"," ",t.actual.toFixed(1)]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"font-bold ".concat(t.gap>=0?"text-green-400":"text-red-400"),children:(e=t.gap)>=0?"+".concat(e.toFixed(1)," above target"):"".concat(Math.abs(e).toFixed(1)," below target")}),(0,r.jsxs)("div",{className:"text-white/60 text-xs",children:["Detected ",new Date(t.detectedAt).toLocaleDateString()]})]})]})})}):null}function N(e){let{category:t}=e,[a,s]=(0,n.useState)([]),[o,i]=(0,n.useState)(!0),[l,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)({title:"",linkedMetric:"",impactScore:3,effortScore:2,dueDate:""});(0,n.useEffect)(()=>{x()},[t]);let x=async()=>{try{let{data:e,error:a}=await b.from("dashboard_tasks").select("*").eq("category",t).neq("status","done").order("created_at",{ascending:!1});if(a)throw a;s(e||[])}catch(e){console.error("Error fetching tasks:",e)}finally{i(!1)}},m=async e=>{e.preventDefault();try{let{error:e}=await b.from("dashboard_tasks").insert([{...c,category:t,status:"todo",created_at:new Date().toISOString()}]);if(e)throw e;u({title:"",linkedMetric:"",impactScore:3,effortScore:2,dueDate:""}),d(!1),x()}catch(e){console.error("Error adding task:",e)}},h=async e=>{try{let{error:t}=await b.from("dashboard_tasks").update({status:"done",completed_at:new Date().toISOString()}).eq("id",e);if(t)throw t;x()}catch(e){console.error("Error completing task:",e)}},p=e=>{let t=e.dueDate?Math.ceil((new Date(e.dueDate).getTime()-Date.now())/864e5):999,a=1;return t<0?a=5:0===t?a=4:1===t?a=3:t<=3&&(a=2),e.impactScore*a},g=[...a].sort((e,t)=>p(t)-p(e));return o?(0,r.jsx)("div",{className:"text-center text-[#a8a6a3] py-8",children:"Loading tasks..."}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-[#e8e6e3]",children:[t," Tasks (",a.length,")"]}),(0,r.jsx)("button",{onClick:()=>d(!l),className:"px-4 py-2 bg-[#d4a843] text-[#0a0a0f] rounded font-medium hover:bg-[#c49833] transition text-sm",children:l?"Cancel":"+ Add Task"})]}),l&&(0,r.jsxs)("form",{onSubmit:m,className:"bg-[#1a1a1f] border border-[#2a2a2f] rounded-lg p-4 space-y-3",children:[(0,r.jsx)("input",{type:"text",placeholder:"Task title",value:c.title,onChange:e=>u({...c,title:e.target.value}),className:"w-full px-3 py-2 bg-[#0a0a0f] border border-[#2a2a2f] rounded text-[#e8e6e3] text-sm",required:!0}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsx)("input",{type:"text",placeholder:"Linked metric (optional)",value:c.linkedMetric,onChange:e=>u({...c,linkedMetric:e.target.value}),className:"px-3 py-2 bg-[#0a0a0f] border border-[#2a2a2f] rounded text-[#e8e6e3] text-sm"}),(0,r.jsx)("input",{type:"date",value:c.dueDate,onChange:e=>u({...c,dueDate:e.target.value}),className:"px-3 py-2 bg-[#0a0a0f] border border-[#2a2a2f] rounded text-[#e8e6e3] text-sm"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs text-[#a8a6a3] mb-1",children:"Impact (1-5)"}),(0,r.jsx)("input",{type:"number",min:"1",max:"5",value:c.impactScore,onChange:e=>u({...c,impactScore:parseInt(e.target.value)}),className:"w-full px-3 py-2 bg-[#0a0a0f] border border-[#2a2a2f] rounded text-[#e8e6e3] text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs text-[#a8a6a3] mb-1",children:"Effort (1-5)"}),(0,r.jsx)("input",{type:"number",min:"1",max:"5",value:c.effortScore,onChange:e=>u({...c,effortScore:parseInt(e.target.value)}),className:"w-full px-3 py-2 bg-[#0a0a0f] border border-[#2a2a2f] rounded text-[#e8e6e3] text-sm"})]})]}),(0,r.jsx)("button",{type:"submit",className:"w-full px-4 py-2 bg-[#d4a843] text-[#0a0a0f] rounded font-medium hover:bg-[#c49833] transition text-sm",children:"Add Task"})]}),(0,r.jsx)("div",{className:"space-y-2",children:0===g.length?(0,r.jsx)("div",{className:"text-center text-[#6a6a6f] py-8 bg-[#1a1a1f] border border-[#2a2a2f] rounded-lg",children:"No tasks yet. Add one to get started!"}):g.map(e=>(0,r.jsx)("div",{className:"bg-[#1a1a1f] border border-[#2a2a2f] rounded-lg p-4 hover:border-[#3a3a3f] transition",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-[#e8e6e3] font-medium",children:e.title}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-[#a8a6a3]",children:[(0,r.jsxs)("span",{children:["Impact: ",e.impactScore,"/5"]}),(0,r.jsxs)("span",{children:["Effort: ",e.effortScore,"/5"]}),e.dueDate&&(0,r.jsxs)("span",{children:["Due: ",new Date(e.dueDate).toLocaleDateString()]}),e.linkedMetric&&(0,r.jsxs)("span",{children:["→ ",e.linkedMetric]})]})]}),(0,r.jsx)("button",{onClick:()=>h(e.id),className:"ml-4 px-3 py-1 bg-green-900/20 text-green-400 border border-green-700 rounded text-xs hover:bg-green-900/30 transition",children:"✓ Done"})]})},e.id))})]})}function k(e){let{category:t}=e,[a,s]=(0,n.useState)([]),[o,i]=(0,n.useState)(!1),[l,c]=(0,n.useState)({description:"",metricTargeted:"",resultNote:""}),x=new Date().toISOString().split("T")[0],m=a.some(e=>e.date===x);(0,n.useEffect)(()=>{let e=(0,d.P)((0,d.rJ)(u,"shipLogs"),(0,d.My)("date","desc"),(0,d.AB)(10)),t=(0,d.aQ)(e,e=>{s(e.docs.map(e=>{var t;return{id:e.id,...e.data(),createdAt:(null==(t=e.data().createdAt)?void 0:t.toDate())||new Date}}))});return()=>t()},[]);let h=async e=>{e.preventDefault();try{await (0,d.gS)((0,d.rJ)(u,"shipLogs"),{...l,date:x,createdAt:d.Dc.now()}),c({description:"",metricTargeted:"",resultNote:""}),i(!1)}catch(e){console.error("Failed to log ship:",e)}};return(0,r.jsxs)("div",{className:"bg-[#1a1a1f] border border-[#2a2a2f] rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-[#e8e6e3]",children:"Ship Log"}),!m&&(0,r.jsx)("button",{onClick:()=>i(!o),className:"px-4 py-2 bg-green-600 text-white rounded font-medium hover:bg-green-700 transition text-sm",children:o?"Cancel":"Ship Something Today"}),m&&(0,r.jsx)("span",{className:"px-3 py-1 bg-green-900/30 text-green-400 text-sm font-medium rounded",children:"✓ Shipped today"})]}),o&&(0,r.jsxs)("form",{onSubmit:h,className:"mb-6 p-4 bg-[#0a0a0f] rounded border border-[#2a2a2f] space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-[#a8a6a3] mb-1",children:"What shipped?"}),(0,r.jsx)("textarea",{value:l.description,onChange:e=>c({...l,description:e.target.value}),className:"w-full px-3 py-2 bg-[#1a1a1f] border border-[#2a2a2f] rounded text-[#e8e6e3] text-sm focus:outline-none focus:border-[#d4a843] resize-none",rows:3,placeholder:"Describe what you shipped...",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-[#a8a6a3] mb-1",children:"Metric Targeted"}),(0,r.jsx)("input",{type:"text",value:l.metricTargeted,onChange:e=>c({...l,metricTargeted:e.target.value}),className:"w-full px-3 py-2 bg-[#1a1a1f] border border-[#2a2a2f] rounded text-[#e8e6e3] text-sm focus:outline-none focus:border-[#d4a843]",placeholder:"e.g., Retention, Growth, DAU",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-[#a8a6a3] mb-1",children:"Expected Result (optional)"}),(0,r.jsx)("input",{type:"text",value:l.resultNote,onChange:e=>c({...l,resultNote:e.target.value}),className:"w-full px-3 py-2 bg-[#1a1a1f] border border-[#2a2a2f] rounded text-[#e8e6e3] text-sm focus:outline-none focus:border-[#d4a843]",placeholder:"What impact do you expect?"})]}),(0,r.jsx)("button",{type:"submit",className:"w-full px-4 py-2 bg-green-600 text-white rounded font-medium hover:bg-green-700 transition text-sm",children:"Log Ship"})]}),0===a.length?(0,r.jsx)("div",{className:"text-center py-8 text-[#6a6a6f]",children:"No ships logged yet. Ship something today!"}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-[#2a2a2f]",children:[(0,r.jsx)("th",{className:"text-left py-2 px-3 text-[#a8a6a3] font-medium",children:"Date"}),(0,r.jsx)("th",{className:"text-left py-2 px-3 text-[#a8a6a3] font-medium",children:"What Shipped"}),(0,r.jsx)("th",{className:"text-left py-2 px-3 text-[#a8a6a3] font-medium",children:"Metric"}),(0,r.jsx)("th",{className:"text-left py-2 px-3 text-[#a8a6a3] font-medium",children:"Result"})]})}),(0,r.jsx)("tbody",{children:a.map(e=>(0,r.jsxs)("tr",{className:"border-b border-[#2a2a2f]/50 hover:bg-[#0a0a0f] transition",children:[(0,r.jsx)("td",{className:"py-3 px-3 text-[#e8e6e3]",children:new Date(e.date).toLocaleDateString()}),(0,r.jsx)("td",{className:"py-3 px-3 text-[#e8e6e3]",children:e.description}),(0,r.jsx)("td",{className:"py-3 px-3",children:(0,r.jsx)("span",{className:"px-2 py-1 bg-[#d4a843]/20 text-[#d4a843] rounded text-xs",children:e.metricTargeted})}),(0,r.jsx)("td",{className:"py-3 px-3 text-[#a8a6a3]",children:e.resultNote||"—"})]},e.id))})]})})]})}function S(){let[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)(!1),[o,i]=(0,n.useState)(null),[l,c]=(0,n.useState)({title:"",content:"",category:""});(0,n.useEffect)(()=>{let e=(0,d.P)((0,d.rJ)(u,"contextNotes"),(0,d.My)("updatedAt","desc")),a=(0,d.aQ)(e,e=>{t(e.docs.map(e=>{var t,a;return{id:e.id,...e.data(),createdAt:(null==(t=e.data().createdAt)?void 0:t.toDate())||new Date,updatedAt:(null==(a=e.data().updatedAt)?void 0:a.toDate())||new Date}}))});return()=>a()},[]);let x=async e=>{e.preventDefault();try{if(o){let e=(0,d.H9)(u,"contextNotes",o.id);await (0,d.mZ)(e,{...l,updatedAt:d.Dc.now()}),i(null)}else await (0,d.gS)((0,d.rJ)(u,"contextNotes"),{...l,createdAt:d.Dc.now(),updatedAt:d.Dc.now()});c({title:"",content:"",category:""}),s(!1)}catch(e){console.error("Failed to save note:",e)}},m=async e=>{if(confirm("Delete this note?"))try{await (0,d.kd)((0,d.H9)(u,"contextNotes",e))}catch(e){console.error("Failed to delete note:",e)}};return(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"bg-[#1a1a1f] border border-[#2a2a2f] rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-[#e8e6e3]",children:"Context & Knowledge Base"}),(0,r.jsx)("p",{className:"text-sm text-[#a8a6a3] mt-1",children:"Add important context, docs, and notes that AI can reference"})]}),(0,r.jsx)("button",{onClick:()=>s(!a),className:"px-4 py-2 bg-[#d4a843] text-[#0a0a0f] rounded font-medium hover:bg-[#c49833] transition text-sm",children:a?"Cancel":"+ Add Note"})]}),a&&(0,r.jsxs)("form",{onSubmit:x,className:"mb-6 p-4 bg-[#0a0a0f] rounded border border-[#2a2a2f] space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-[#a8a6a3] mb-1",children:"Title"}),(0,r.jsx)("input",{type:"text",value:l.title,onChange:e=>c({...l,title:e.target.value}),className:"w-full px-3 py-2 bg-[#1a1a1f] border border-[#2a2a2f] rounded text-[#e8e6e3] text-sm focus:outline-none focus:border-[#d4a843]",placeholder:"e.g., Product Philosophy, User Feedback, Market Research",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-[#a8a6a3] mb-1",children:"Category"}),(0,r.jsx)("input",{type:"text",value:l.category,onChange:e=>c({...l,category:e.target.value}),className:"w-full px-3 py-2 bg-[#1a1a1f] border border-[#2a2a2f] rounded text-[#e8e6e3] text-sm focus:outline-none focus:border-[#d4a843]",placeholder:"e.g., Strategy, Documentation, Insights",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-[#a8a6a3] mb-1",children:"Content"}),(0,r.jsx)("textarea",{value:l.content,onChange:e=>c({...l,content:e.target.value}),className:"w-full px-3 py-2 bg-[#1a1a1f] border border-[#2a2a2f] rounded text-[#e8e6e3] text-sm focus:outline-none focus:border-[#d4a843] resize-none font-mono",rows:8,placeholder:"Add detailed context, documentation, insights, or any information the AI should know...",required:!0})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-[#d4a843] text-[#0a0a0f] rounded font-medium hover:bg-[#c49833] transition text-sm",children:o?"Update Note":"Save Note"}),o&&(0,r.jsx)("button",{type:"button",onClick:()=>{i(null),c({title:"",content:"",category:""}),s(!1)},className:"px-4 py-2 bg-[#2a2a2f] text-[#e8e6e3] rounded font-medium hover:bg-[#3a3a3f] transition text-sm",children:"Cancel"})]})]}),0===e.length?(0,r.jsxs)("div",{className:"text-center py-12 text-[#6a6a6f]",children:[(0,r.jsx)("p",{children:"No context notes yet."}),(0,r.jsx)("p",{className:"text-sm mt-2",children:"Add knowledge, docs, and insights that AI can reference when giving suggestions."})]}):(0,r.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,r.jsxs)("div",{className:"p-4 bg-[#0a0a0f] border border-[#2a2a2f] rounded hover:border-[#3a3a3f] transition",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-medium text-[#e8e6e3] mb-1",children:e.title}),(0,r.jsx)("span",{className:"inline-block px-2 py-0.5 bg-[#d4a843]/20 text-[#d4a843] rounded text-xs",children:e.category})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>{i(e),c({title:e.title,content:e.content,category:e.category}),s(!0)},className:"text-xs text-[#a8a6a3] hover:text-[#e8e6e3] transition",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>m(e.id),className:"text-xs text-red-400 hover:text-red-300 transition",children:"Delete"})]})]}),(0,r.jsx)("p",{className:"text-sm text-[#a8a6a3] whitespace-pre-wrap font-mono bg-[#1a1a1f] p-3 rounded border border-[#2a2a2f] max-h-48 overflow-y-auto",children:e.content}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-[#6a6a6f]",children:["Updated ",e.updatedAt.toLocaleDateString()," at"," ",e.updatedAt.toLocaleTimeString()]})]},e.id))})]})})}function C(e){let{activeTab:t}=e;return"Context"===t?(0,r.jsx)(S,{}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(N,{category:t}),(0,r.jsx)(k,{category:t})]})}function D(e){let{activeTab:t}=e,[a,s]=(0,n.useState)([]),[o,i]=(0,n.useState)(""),[l,d]=(0,n.useState)(!1),c=(0,n.useRef)(null);(0,n.useEffect)(()=>{var e;null==(e=c.current)||e.scrollIntoView({behavior:"smooth"})},[a]),(0,n.useEffect)(()=>{0===a.length&&u()},[t]);let u=()=>{d(!0);try{let e={Product:"Based on your current metrics, I'd suggest focusing on retention. Consider adding an onboarding improvement task - your 7D retention is below target. What specific friction points are users hitting?",Growth:"Your new user acquisition is below target. I'd recommend:\n1. Launch a Product Hunt campaign (see your backlog)\n2. Optimize your App Store listing\n3. Test referral incentives\n\nWhich would move the needle fastest?",Marketing:"Check your ship log - when was the last time you shipped a marketing experiment? Try posting 3 Instagram Reels this week targeting decision fatigue pain points.",Tech:"Looking at your tasks, consider prioritizing the Firebase export script. Without data, you can't optimize. This unblocks analytics and constraint detection.",Monetization:"Revenue is at $0. Before building payment features, validate willingness to pay. Add a task: 'Interview 10 users about paid features'. Start there.",Partnerships:"For partnerships, focus on distribution channels. Which content platforms or app stores could give you 10x reach? List 3 potential partners and draft outreach messages.",Bugs:"Check your bug backlog. Are there any bugs that directly impact retention or conversion? Those should be your top priority.",Analytics:"Analytics tracking looks good. Now the question is: what are you learning? Add a weekly review task to extract insights and adjust strategy.",Experiments:"Running experiments is great, but are you shipping winners? Review your recent experiments and ship the validated improvements.",Content:"Content marketing compound. Pick ONE channel (Twitter, Instagram, LinkedIn) and commit to daily posts for 30 days. Which channel has your best user overlap?",Context:"Context notes help AI give better suggestions. Document your key decisions, user insights, and strategic pivots here."}[t]||"For ".concat(t,", focus on the highest impact task with the nearest deadline. What's blocking you from shipping something today?");s([{role:"assistant",content:e}])}catch(e){console.error("Failed to get proactive suggestion:",e)}finally{d(!1)}};return(0,r.jsxs)("div",{className:"bg-[#1a1a1f] border border-[#2a2a2f] rounded-lg flex flex-col h-[calc(100vh-300px)]",children:[(0,r.jsxs)("div",{className:"p-4 border-b border-[#2a2a2f]",children:[(0,r.jsx)("h3",{className:"font-bold text-[#e8e6e3]",children:"AI Assistant"}),(0,r.jsxs)("p",{className:"text-xs text-[#a8a6a3] mt-1",children:["Context-aware suggestions for ",t]})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===a.length&&!l&&(0,r.jsxs)("div",{className:"text-center text-[#6a6a6f] text-sm py-8",children:["Ask me anything about your ",t," strategy, tasks, or metrics."]}),a.map((e,t)=>(0,r.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,r.jsx)("div",{className:"max-w-[85%] rounded-lg p-3 text-sm ".concat("user"===e.role?"bg-[#d4a843] text-[#0a0a0f]":"bg-[#0a0a0f] border border-[#2a2a2f] text-[#e8e6e3]"),children:e.content})},t)),l&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsx)("div",{className:"bg-[#0a0a0f] border border-[#2a2a2f] rounded-lg p-3 text-sm text-[#a8a6a3]",children:"Thinking..."})}),(0,r.jsx)("div",{ref:c})]}),(0,r.jsx)("form",{onSubmit:e=>{if(e.preventDefault(),!o.trim())return;let a={role:"user",content:o};s(e=>[...e,a]),i(""),d(!0);try{let e=function(e,t){let a=e.toLowerCase();return a.includes("retention")||a.includes("churn")?"Retention issues often stem from poor onboarding or missing core value. Have you mapped out your Day 1, Day 3, and Day 7 user experience? Find the drop-off point and fix that first.":a.includes("growth")||a.includes("users")?"For growth, focus on: 1) Making your current users successful (they'll refer others), 2) Optimizing your App Store presence, 3) Testing viral loops. What's your current virality coefficient?":a.includes("revenue")||a.includes("monetiz")?"Before building payment features, validate willingness to pay. Talk to 10 power users and ask: 'What would make this worth $X/month to you?' Their answers will guide your pricing and features.":a.includes("marketing")||a.includes("content")?"Content marketing works if you're consistent. Pick ONE channel, post daily for 30 days, and measure what resonates. Don't spread thin across multiple platforms yet.":a.includes("bug")||a.includes("fix")?"Not all bugs are equal. Triage by: 1) Does it block core functionality? 2) Does it affect many users? 3) Is it easy to fix? Ship quick wins while planning the hard fixes.":a.includes("priority")||a.includes("what should")?"For ".concat(t,", look at your constraint. Your biggest bottleneck right now should guide what you work on. What's stopping you from hitting your targets?"):"That's a good question for ".concat(t,". Based on your current metrics and tasks, I'd recommend focusing on the highest impact work. Want me to help you prioritize your backlog?")}(a.content,t);s(t=>[...t,{role:"assistant",content:e}])}catch(e){console.error("Chat error:",e),s(e=>[...e,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{d(!1)}},className:"p-4 border-t border-[#2a2a2f]",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:o,onChange:e=>i(e.target.value),placeholder:"Ask for suggestions...",className:"flex-1 px-3 py-2 bg-[#0a0a0f] border border-[#2a2a2f] rounded text-[#e8e6e3] text-sm focus:outline-none focus:border-[#d4a843]",disabled:l}),(0,r.jsx)("button",{type:"submit",disabled:l||!o.trim(),className:"px-4 py-2 bg-[#d4a843] text-[#0a0a0f] rounded font-medium hover:bg-[#c49833] transition text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})]})})]})}let A=["Product","Growth","Marketing","Tech","Monetization","Partnerships","Bugs","Analytics","Experiments","Content","Context"];function I(){let[e,t]=(0,n.useState)("Product"),[a,s]=(0,n.useState)(!1);return(0,r.jsxs)("div",{className:"min-h-screen bg-[#0a0a0f]",children:[(0,r.jsx)(j,{}),(0,r.jsx)(w,{}),(0,r.jsx)("div",{className:"border-b border-[#2a2a2f] bg-[#1a1a1f]",children:(0,r.jsx)("div",{className:"max-w-[1600px] mx-auto px-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex gap-1 overflow-x-auto py-2",children:A.map(a=>(0,r.jsx)("button",{onClick:()=>t(a),className:"px-4 py-2 text-sm font-medium rounded transition whitespace-nowrap ".concat(e===a?"bg-[#d4a843] text-[#0a0a0f]":"text-[#a8a6a3] hover:text-[#e8e6e3] hover:bg-[#2a2a2f]"),children:a},a))}),(0,r.jsxs)("button",{onClick:()=>s(!a),className:"ml-4 px-4 py-2 bg-[#2a2a2f] text-[#e8e6e3] rounded text-sm font-medium hover:bg-[#3a3a3f] transition whitespace-nowrap",children:[a?"Hide":"Show"," AI Chat"]})]})})}),(0,r.jsx)("div",{className:"max-w-[1600px] mx-auto px-6 py-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:a?"lg:col-span-2":"lg:col-span-3",children:(0,r.jsx)(C,{activeTab:e})}),a&&(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsx)(D,{activeTab:e})})]})})]})}var T=a(9509);function U(){let[e,t]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!0),[i,d]=(0,n.useState)(!1),u=(0,o.useRouter)();return((0,n.useEffect)(()=>{if("true"===sessionStorage.getItem("dashboard_auth")){t(!0),s(!1);return}let e=setTimeout(()=>{console.log("Auth timeout - showing login"),s(!1)},2e3),a=(0,l.hg)(c,async a=>{clearTimeout(e);let r=T.env.NEXT_PUBLIC_ADMIN_EMAIL||"parikshit0120@gmail.com";console.log("Auth state changed:",null==a?void 0:a.email),a&&a.email===r?t(!0):(a&&await c.signOut(),t(!1)),s(!1)});return()=>{a(),clearTimeout(e)}},[u]),a)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#0a0a0f]",children:(0,r.jsx)("div",{className:"text-[#e8e6e3]",children:"Loading..."})}):e?(0,r.jsx)(I,{}):(0,r.jsx)(m,{onPasswordSuccess:()=>{sessionStorage.setItem("dashboard_auth","true"),t(!0)},showPasswordLogin:i,setShowPasswordLogin:d})}}},e=>{e.O(0,[992,811,1,441,964,358],()=>e(e.s=6481)),_N_E=e.O()}]);