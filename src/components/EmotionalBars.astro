---
/**
 * EmotionalBars.astro - Visual emotional profile display
 * 
 * Shows top 3 contributing emotional dimensions as bars
 * No numbers, just visual representation
 */

interface EmotionalBar {
  dimension: string;
  label: string;
  value: number;
  percentage: number;
}

interface Props {
  bars: EmotionalBar[];
  compact?: boolean;
}

const { bars, compact = false } = Astro.props;

const barColors: Record<string, string> = {
  emotionalIntensity: 'bg-red-500',
  mentalStimulation: 'bg-purple-500',
  comfort: 'bg-green-500',
  energy: 'bg-yellow-500',
  darkness: 'bg-slate-500',
  humour: 'bg-pink-500',
  complexity: 'bg-blue-500',
  rewatchability: 'bg-cyan-500',
};
---

<div class={`emotional-bars space-y-${compact ? '1' : '2'}`}>
  {bars.map(bar => (
    <div class="flex items-center gap-2">
      <span class={`${compact ? 'w-16 text-xs' : 'w-24 text-sm'} text-gw-text-secondary truncate`}>
        {bar.label}
      </span>
      <div class={`flex-1 ${compact ? 'h-1.5' : 'h-2'} bg-gw-border rounded-full overflow-hidden`}>
        <div 
          class={`h-full rounded-full ${barColors[bar.dimension] || 'bg-gw-accent'}`}
          style={`width: ${bar.percentage}%`}
        />
      </div>
    </div>
  ))}
</div>
